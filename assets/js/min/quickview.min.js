/* LFInteractive LLC. All Rights Reserved */
(()=>{async function n(n){let e=await $.get("/assets/html/quickview-card.html");e=$($.parseHTML(e));let t=null!=n.review;if(n.paid&&e.addClass("paid"),e.find(".name").html(n.name),e.find(".cabin").html(n.cabin),e.find("#cust-adults").html(`${n.adults} Adults`),e.find("#cust-children").html(`${n.children} children`),e.find("#cust-pets").html(`${n.pets} pets`),e.find("#cust-payment").html(n.paid?"online":"in person"),e.find("#cust-start").html(n.start),e.find("#cust-end").html(n.end),e.find("#cust-nights").html(`${Math.round((new Date(n.end).getTime()-new Date(n.start).getTime())/864e5)} Nights`),e.find(".info-btn").on("click",()=>{e.attr("flip",!0)}),e.find(".close-info-btn").on("click",()=>{e.attr("flip",null)}),t)e.find(".front .btn.primary").html("View"),e.find(".front .btn.secondary").html("Respond"),e.find(".front .content .col.center").prepend(function(n){let e=`<div class="stars row" title="${n} / 5 Stars">`;for(let t=0;5>t;t++)e+=n>t?'<i class="fa-solid fa-star"></i>':'<i class="fa-regular fa-star"></i>';return e+="</div>",e}(n.review));else if(n.checkedIn?(e.find(".front .btn.primary").html("Check Out"),n.paid||(e.find(".front .btn.secondary").css("background","#ff3131"),e.find(".front .btn.secondary").css("color","white"),e.find(".front .btn.secondary").css("font-weight","900"),e.find(".front .btn.secondary").css("text-transform","uppercase"))):e.find(".front .btn.primary").html("Check In"),n.paid)e.find(".front .btn.secondary").remove();else{let t=e.find(".front .btn.secondary");t.html("Pay"),t.attr("title","Process payment!"),t.on("click",()=>{window.open(`/panel/pay.php?id=${n.id}`)})}return e}let e=[{id:0,name:"John Doe",cabin:"Cabin #4",adults:3,children:3,pets:3,paid:!0,checkedIn:!1,start:"03/03/2022",end:"03/16/2022"},{id:0,name:"John Doe",cabin:"Cabin #4",adults:3,children:3,pets:3,paid:!1,checkedIn:!1,start:"03/03/2022",end:"03/16/2022"}],t=[{id:0,name:"John Doe",cabin:"Cabin #4",adults:3,children:3,pets:3,paid:!0,checkedIn:!0,start:"03/03/2022",end:"03/16/2022"},{id:0,name:"John Doe",cabin:"Cabin #4",adults:3,children:3,pets:3,paid:!1,checkedIn:!0,start:"03/03/2022",end:"03/16/2022"}],i=[{id:0,name:"John Doe",cabin:"Cabin #4",adults:3,children:3,pets:3,paid:!0,checkedIn:!1,start:"03/03/2022",end:"03/16/2022",review:1,note:"This was a nice place, bad food!"},{id:0,name:"John Doe",cabin:"Cabin #4",adults:3,children:3,pets:3,paid:!0,checkedIn:!1,start:"03/03/2022",end:"03/16/2022",review:4,note:"Best stay ever!!!"}];!function(){let a=e,d=t,c=i;$("#arrivals.quick-view-row .cards").html(""),a.forEach(e=>{n(e).then(n=>{n.checkedIn||$("#arrivals.quick-view-row .cards").append(n)})}),d.forEach(e=>{n(e).then(n=>{n.checkedIn||$("#departures.quick-view-row .cards").append(n)})}),c.forEach(e=>{n(e).then(n=>{n.checkedIn||$("#reviews.quick-view-row .cards").append(n)})})}()})();