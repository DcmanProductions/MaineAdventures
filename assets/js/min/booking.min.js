/* LFInteractive LLC. All Rights Reserved */
(()=>{function e(){let e=$("#cabin-image"),n=a.isNightly?Array.from(i.nightly):Array.from(i.seasonal);$("#cabin-names")[0].innerHTML="";let c=0;n.forEach(n=>{let r=document.createElement("p");r.id=n.name.replaceAll(" ","-").toLowerCase(),r.innerText=`${n.name} - ${l.format(n.price)}/night`,$("#cabin-names")[0].appendChild(r),$(r).attr("index",c),$(r).on("click",()=>{let l=`/assets/images/cabins/${n.image}.jpg`;Array.from($("#cabin-names p[selected]")).forEach(e=>{$(e).attr("selected",null)}),$(r).attr("selected",""),e.css("background-image",`url('${l}')`),function(e){let n;n=a.isNightly?i.nightly[e]:i.seasonal[e];a.cabin.name=n.name,a.cabin.price=n.price,t()}($(r).attr("index"))}),0==c&&r.click(),c++}),$("#cabin-names p")[0].click()}function t(){let e=0;e+=15*a.people.adults,a.people.children>0&&(e+=10*a.people.children),a.people.pets>0&&(e+=10*a.people.pets),e+=a.cabin.price*a.nights,e=l.format(e),$("#book-trip-btn")[0].innerHTML=`Book Trip - ${e}`,$("#balance-amount")[0].innerHTML='Next <i class="fa fa-chevron-right"></i>',$("#item-cabin")[0].innerHTML=`Cabin: <strong>${a.cabin.name}</strong> - <span class="price">${a.cabin.price}/night</span>`,$("#item-adults")[0].innerHTML=`Adults: <strong>${a.people.adults}</strong> - <span class="price">${l.format(15)}/adult</span>`,$("#item-children")[0].innerHTML=`Children: <strong>${a.people.children}</strong> - <span class="price">${l.format(10)}/child</span>`,$("#item-pets")[0].innerHTML=`Pets: <strong>${a.people.pets}</strong> - <span class="price">${l.format(10)}/pet</span>`,$("#item-nights")[0].innerHTML=`Nights: <strong>${a.nights}</strong>`}function n(){c.scrollBy(c.offsetWidth,0)}let a={isNightly:"nightly",cabin:{name:"",price:0},people:{adults:0,children:0,pets:0},nights:7,price:0},i={nightly:[{name:"Quaker Brook",image:"cabin-a",price:40},{name:"Deer Brook",image:"cabin-b",price:40},{name:"Suncook",image:"cabin-c",price:60},{name:"Rip Stream",image:"cabin-d",price:50},{name:"Red Brook",image:"cabin-e",price:50}],seasonal:[{name:"Premium Lot with electricity and water",image:"cabin-a",price:3e3},{name:"Primitive Lot",image:"cabin-b",price:1900}]},l=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),c=$("#sections")[0];$("#time-span .card").on("click",t=>{$("#cabin").css("display",""),a.isNightly="Nightly"==t.currentTarget.querySelector(".name").innerText,e(),n(),setTimeout(()=>{$("#time-span").css("display","none")},500)}),$("#cabin .next-btn").on("click",()=>{$("#pets").css("display",""),n(),setTimeout(()=>{$("#cabin").css("display","none")},500)}),$("#pets .next-btn").on("click",()=>{$("#adults").css("display",""),n(),setTimeout(()=>{$("#pets").css("display","none")},500)}),$("#adults .next-btn").on("click",()=>{$("#children").css("display",""),n(),setTimeout(()=>{$("#adults").css("display","none")},500)}),$("#children .next-btn").on("click",()=>{$("#times").css("display",""),n(),setTimeout(()=>{$("#children").css("display","none")},500)}),$(".count").on("click",e=>{let t=e.target,n=t.parentElement;Array.from(n.querySelectorAll(".count")).forEach(e=>{$(e).attr("selected",null)}),$(t).attr("selected",""),$(n).attr("value",t.innerText)}),$("#pets .count").on("click",e=>{a.people.pets=Number.parseInt($(e.target.parentElement).attr("value")),t()}),$("#adults .count").on("click",e=>{a.people.adults=Number.parseInt($(e.target.parentElement).attr("value")),t()}),$("#children .count").on("click",e=>{a.people.children=Number.parseInt($(e.target.parentElement).attr("value")),t()}),$("#pets .count")[0].click(),$("#adults .count")[1].click(),$("#children .count")[3].click(),function(){let e=new Date;e.setDate(e.getDate()+5);let n=("0"+e.getDate()).slice(-2),i=("0"+(e.getMonth()+1)).slice(-2),l=e.getFullYear()+"-"+i+"-"+n;$("#start-date")[0].value=l,$("input[type=date]").attr("min",l),$("input[type=month]").attr("min",`${e.getFullYear()}-${i}`),$("input[type=month]").attr("value",`${e.getFullYear()}-${i}`),$("input[type=month]").attr("placeholder",`${i}/${e.getFullYear().toString().substring(2,4)}`),e.setDate(e.getDate()+7),n=("0"+e.getDate()).slice(-2),i=("0"+(e.getMonth()+1)).slice(-2),l=e.getFullYear()+"-"+i+"-"+n,$("#end-date")[0].value=l,$("#start-date, #end-date").on("change",()=>{let e=$("input#end-date")[0].valueAsDate,n=$("input#start-date")[0].valueAsDate,i=Math.round((e-n)/864e5);a.nights=i,console.log(a.nights),t()}),$("#end-date").on("change",e=>{let t=e.target.value;$("#start-date")[0].max=t}),$("#start-date").on("change",e=>{let t=e.target.value;$("#end-date")[0].min=t}),t()}(),t()}).call();